<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Catálogo Sabores S&C</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<style>
  :root{ --primary:#a05b3b; --text:#3d2c1b; --bg:#fdfaf7; --pill:#ead7cd;
         --price-size:.95rem; --uom-size:1.05rem; }
  *{box-sizing:border-box}
  body{background:var(--bg);font-family:'Segoe UI',sans-serif;color:var(--text)}

  /* Header */
  .header{padding:3rem 1rem 2rem;text-align:center;background:radial-gradient(ellipse at top,#fff 0,#fff 50%,#f8f0ec 100%);box-shadow:0 4px 10px rgba(0,0,0,.06)}
  .header img{max-height:200px;margin-bottom:1rem;border-radius:50%;padding:12px;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,.15)}
  .brand{font:900 2.8rem/1 Georgia,serif;background:linear-gradient(90deg,#a05b3b,#d19173);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  .slogan{font-style:italic;color:#7b4b34}
  .contact-line{display:inline-flex;gap:.4rem;align-items:center;justify-content:center;font-weight:700;margin:.35rem 0 0;color:#7b4b34}
  .search-wrap{max-width:820px;margin:1rem auto 0;position:relative}
  .search-wrap .form-control{border-radius:14px;padding-left:44px;border:1px solid #ead7cd;box-shadow:0 4px 14px rgba(0,0,0,.06)}
  .search-wrap .bi-search{position:absolute;left:14px;top:50%;transform:translateY(-50%);opacity:.7}
  .updated{display:inline-block;background:#fff;border:1px solid #ead7cd;color:#7b4b34;padding:6px 12px;border-radius:999px;font-weight:600}
  .chips{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap;margin-top:.7rem}
  .chip{border:1px solid #ead7cd;background:#fff;color:#7b4b34;border-radius:999px;padding:.4rem .9rem;font-weight:700;cursor:pointer}
  .chip.active{background:#a05b3b;color:#fff;border-color:#a05b3b}

  /* Cards */
  .product{display:flex}
  .product-card{display:flex;flex-direction:column;height:100%;width:100%;
    border:none;border-radius:18px;background:#fff;box-shadow:0 6px 22px rgba(0,0,0,.08);transition:.25s;cursor:zoom-in}
  .product-card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(0,0,0,.12)}
  .img-wrap{height:260px;display:flex;align-items:center;justify-content:center;padding:14px;background:#fff}
  .img-wrap img{max-width:100%;max-height:100%;height:100%;object-fit:contain}
  .card-body{display:grid;grid-template-rows:auto auto auto 1fr auto;gap:.55rem}

  .price-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.6rem}
  .price-pill{outline:1px solid var(--pill);background:linear-gradient(180deg,#fff 0,#fff7f1 100%);
    border-radius:12px;padding:.55rem .7rem;box-shadow:0 4px 12px rgba(0,0,0,.06);min-height:74px;
    display:flex;flex-direction:column;align-items:center;justify-content:center}
  .uom{font-weight:800;opacity:.9;font-size:var(--uom-size)}
  .amount{font-weight:400;font-size:var(--price-size);display:flex;gap:.35rem;align-items:center}
  .badge-public{font-size:.8rem;color:#7b4b34}

  .btn-wholesale{--bs-btn-color:#a05b3b;--bs-btn-border-color:#a05b3b;--bs-btn-hover-bg:#a05b3b;--bs-btn-hover-border-color:#a05b3b}
  .btn-whatsapp{background:#25D366;border:none;width:100%;font-weight:bold;display:flex;align-items:center;justify-content:center;gap:.35rem;cursor:auto}

  /* Mayorista compacto */
  .wh-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.6rem}
  .wh-pill{outline:1px solid var(--pill);background:linear-gradient(180deg,#fff 0,#fff7f1 100%);
    border-radius:12px;padding:.55rem .7rem;box-shadow:0 4px 12px rgba(0,0,0,.06);min-height:74px;
    display:flex;flex-direction:column;justify-content:center}
  .wh-row{display:flex;justify-content:space-between;gap:.5rem;font-size:var(--price-size)}
  .wh-row + .wh-row{margin-top:.15rem}
  .wh-lab{font-weight:600;opacity:.85}
  .wh-val{font-weight:400}

  /* Mostrar/ocultar mayorista (sin Bootstrap collapse) */
  .wh-container{display:none}
  .wh-container.open{display:block}

  .about{background:#fff;border-radius:18px;padding:2rem;box-shadow:0 6px 22px rgba(0,0,0,.06)}
  .footer{background:var(--primary);color:#fff;text-align:center;padding:1rem;margin-top:2rem}

  .info-card{background:#fff;border:1px solid #ead7cd;border-radius:16px;padding:1rem;box-shadow:0 6px 20px rgba(0,0,0,.05)}
  .info-card .title{font-weight:700}

  .modal-img{width:100%;max-height:70vh;object-fit:contain}

  /* PDF */
  #catalogo_pdf{display:none}
  .pdf-header{text-align:center;padding:1.2rem .5rem}
  .pdf-brand{font:900 2rem/1 Georgia,serif;color:#a05b3b}
  .pdf-contact{font-weight:700;margin-top:.25rem}
  .pdf-note{font-size:.85rem;color:#6b5848;margin-top:.25rem}
  .pdf-card{border:1px solid #e8d9d1;border-radius:14px;background:#fff;padding:10px}
  .pdf-img{width:100%;height:200px;object-fit:contain}
  .pdf-price{display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.5rem}
  .pdf-pill{border:1px solid #ead7cd;border-radius:10px;padding:.35rem .55rem;background:#fff7f1;font-weight:600}
  .pdf-pill .q{font-weight:400;margin-left:.25rem}

  @media print{ #catalogo_ui{display:none!important} #catalogo_pdf{display:block!important}
    body{background:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact;} }

  @media (max-width: 400px){
    .brand{font-size:1.9rem}
    .img-wrap{height:180px}
    .price-pill{min-height:64px; padding:.45rem .6rem}
    .amount{font-size:.9rem}
    .uom{font-size:1rem}
    .chip{padding:.5rem 1rem}
  }
  @media (max-width: 576px){
    .modal-dialog{margin:.75rem}
    .header .search-wrap, .header #chips{position:sticky; top:0; z-index:1020;
      background:radial-gradient(ellipse at top,#fff 0,#fff 50%,#f8f0ec 100%); padding-bottom:.5rem}
    .header #chips{ top:64px }
  }
</style>
</head>
<body>

<!-- ========= UI ========= -->
<div id="catalogo_ui">
<header class="header">
  <img src="img/logo.png" alt="Logo Sabores S&C">
  <div class="brand">Sabores S&C</div>
  <div class="slogan">"El auténtico sabor de nuestra tierra"</div>
  <div class="contact-line"><i class="bi bi-telephone"></i> 50138102</div>
  <p class="mb-2 fw-semibold">Distribuido y empacado por <strong>Sabores S&C</strong></p>

  <div class="d-flex justify-content-center gap-2">
    <button id="btnPrint" class="btn btn-outline-secondary">
      <i class="bi bi-printer"></i> Imprimir / Guardar como PDF
    </button>
  </div>

  <div class="search-wrap">
    <i class="bi bi-search"></i>
    <input id="searchInput" type="search" class="form-control form-control-lg" placeholder="Buscar (ej. jamaica, bicarbonato, tajin)..." />
    <div class="mt-2"><span id="updatedAt" class="updated"></span></div>
  </div>

  <div class="chips" id="chips">
    <button class="chip active" data-filter="all">Todos</button>
    <button class="chip" data-filter="jamaica">Jamaica</button>
    <button class="chip" data-filter="bicarbonato">Bicarbonato</button>
    <button class="chip" data-filter="miga">Miga de Pan</button>
    <button class="chip" data-filter="tajin">Tajín</button>
  </div>
</header>

<main class="container py-5">
  <div id="productGrid" class="row g-4 justify-content-center">

    <!-- Jamaica -->
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 product"
         data-category="jamaica" data-key="jamaica" data-name="Flor de Jamaica"
         data-tags="jamaica flor bebida cocina 454g 227g">
      <div class="card product-card">
        <div class="img-wrap"><img src="img/jamaica.png" alt="Flor de Jamaica" loading="lazy"></div>
        <div class="card-body">
          <h5 class="card-title">Flor de Jamaica</h5>
          <div class="badge-public">Precio por presentación (TIENDA)</div>
          <div class="price-list"></div>

          <button class="btn btn-outline-primary btn-sm btn-wholesale mt-1" data-target="#wh-jamaica" aria-expanded="false">
            <i class="bi bi-bag-check"></i> Precio mayorista
          </button>
          <div id="wh-jamaica" class="wh-container pt-2"></div>

          <p class="card-text">Flor natural deshidratada, ideal para bebidas y cocina.</p>
          <a href="https://wa.me/50250138102?text=Hola%20Sabores%20S%26C,%20quiero%20ordenar%20Flor%20de%20Jamaica." target="_blank" class="btn btn-whatsapp"><i class="bi bi-whatsapp"></i> Pedir por WhatsApp</a>
        </div>
      </div>
    </div>

    <!-- Bicarbonato -->
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 product"
         data-category="bicarbonato" data-key="bicarbonato" data-name="Bicarbonato"
         data-tags="bicarbonato cocina limpieza 454g 227g 50g">
      <div class="card product-card">
        <div class="img-wrap"><img src="img/bicarbonato.png" alt="Bicarbonato" loading="lazy"></div>
        <div class="card-body">
          <h5 class="card-title">Bicarbonato</h5>
          <div class="badge-public">Precio por presentación (TIENDA)</div>
          <div class="price-list"></div>

          <button class="btn btn-outline-primary btn-sm btn-wholesale mt-1" data-target="#wh-bicarbonato" aria-expanded="false">
            <i class="bi bi-bag-check"></i> Precio mayorista
          </button>
          <div id="wh-bicarbonato" class="wh-container pt-2"></div>

          <p class="card-text">Para cocina, limpieza y usos múltiples.</p>
          <a href="https://wa.me/50250138102?text=Hola%20Sabores%20S%26C,%20quiero%20ordenar%20Bicarbonato." target="_blank" class="btn btn-whatsapp"><i class="bi bi-whatsapp"></i> Pedir por WhatsApp</a>
        </div>
      </div>
    </div>

    <!-- Miga -->
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 product"
         data-category="miga" data-key="miga" data-name="Miga de Pan"
         data-tags="miga pan empanizado 454g 227g">
      <div class="card product-card">
        <div class="img-wrap"><img src="img/miga.png" alt="Miga de Pan" loading="lazy"></div>
        <div class="card-body">
          <h5 class="card-title">Miga de Pan</h5>
          <div class="badge-public">Precio por presentación (TIENDA)</div>
          <div class="price-list"></div>

          <button class="btn btn-outline-primary btn-sm btn-wholesale mt-1" data-target="#wh-miga" aria-expanded="false">
            <i class="bi bi-bag-check"></i> Precio mayorista
          </button>
          <div id="wh-miga" class="wh-container pt-2"></div>

          <p class="card-text">Ideal para empanizados y recetas caseras.</p>
          <a href="https://wa.me/50250138102?text=Hola%20Sabores%20S%26C,%20quiero%20ordenar%20Miga%20de%20Pan." target="_blank" class="btn btn-whatsapp"><i class="bi bi-whatsapp"></i> Pedir por WhatsApp</a>
        </div>
      </div>
    </div>

    <!-- Tajín -->
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 product"
         data-category="tajin" data-key="tajin" data-name="Tajín Artesanal"
         data-tags="tajin condimento chile limon sal 454g 227g 50g">
      <div class="card product-card">
        <div class="img-wrap"><img src="img/tajin.png" alt="Tajín Artesanal" loading="lazy"></div>
        <div class="card-body">
          <h5 class="card-title">Tajín Artesanal</h5>
          <div class="badge-public">Precio por presentación (TIENDA)</div>
          <div class="price-list"></div>

          <button class="btn btn-outline-primary btn-sm btn-wholesale mt-1" data-target="#wh-tajin" aria-expanded="false">
            <i class="bi bi-bag-check"></i> Precio mayorista
          </button>
          <div id="wh-tajin" class="wh-container pt-2"></div>

          <p class="card-text">Condimento con chile, limón y sal. 100% artesanal.</p>
          <a href="https://wa.me/50250138102?text=Hola%20Sabores%20S%26C,%20quiero%20ordenar%20Taj%C3%ADn%20Artesanal." target="_blank" class="btn btn-whatsapp"><i class="bi bi-whatsapp"></i> Pedir por WhatsApp</a>
        </div>
      </div>
    </div>

  </div>

  <!-- Info -->
  <section class="container mt-4">
    <div class="row g-3 justify-content-center text-center">
      <div class="col-6 col-md-4"><div class="info-card"><div class="title"><i class="bi bi-cash-coin"></i> Pagos</div><div class="small">Efectivo / Transferencia</div></div></div>
      <div class="col-6 col-md-4"><div class="info-card"><div class="title"><i class="bi bi-truck"></i> Envíos</div><div class="small">A todo Guatemala</div></div></div>
      <div class="col-6 col-md-4"><div class="info-card"><div class="title"><i class="bi bi-clock-history"></i> Horario</div><div class="small">7:00 – 18:00</div></div></div>
    </div>
  </section>

  <section class="about mt-5">
    <h4 class="mb-2"><i class="bi bi-emoji-smile"></i> Acerca de Sabores S&C</h4>
    <p class="mb-0">Somos <strong>Sabores S&C</strong>, un emprendimiento guatemalteco con productos naturales y artesanales. Seleccionamos y empacamos con cuidado para ofrecerte calidad y confianza.</p>
  </section>

  <p class="text-center mt-3 mb-0" style="color:#7b4b34;opacity:.7;font-weight:600">
    Precios en Quetzales (GTQ). Imágenes referenciales. Sujetos a cambio sin previo aviso.
  </p>
</main>

<footer class="footer">© 2025 Sabores S&C • Tel. 50138102 • Todos los derechos reservados</footer>
</div>
<!-- ========= FIN UI ========= -->


<!-- ========= PLANTILLA PDF ========= -->
<div id="catalogo_pdf" aria-hidden="true">
  <div class="pdf-header">
    <div class="pdf-brand">Sabores S&C</div>
    <div class="pdf-contact"><i class="bi bi-telephone"></i> 50138102</div>
    <div class="pdf-note">Precios en Quetzales (GTQ). Catálogo resumido (imágenes + precios).</div>
  </div>
  <div class="container pb-4">
    <div class="row g-3">
      <div class="col-6 col-md-4 col-lg-3">
        <div class="pdf-card">
          <img class="pdf-img" src="img/jamaica.png" alt="Jamaica">
          <div class="pdf-price" data-key="jamaica"></div>
        </div>
      </div>
      <div class="col-6 col-md-4 col-lg-3">
        <div class="pdf-card">
          <img class="pdf-img" src="img/bicarbonato.png" alt="Bicarbonato">
          <div class="pdf-price" data-key="bicarbonato"></div>
        </div>
      </div>
      <div class="col-6 col-md-4 col-lg-3">
        <div class="pdf-card">
          <img class="pdf-img" src="img/miga.png" alt="Miga de Pan">
          <div class="pdf-price" data-key="miga"></div>
        </div>
      </div>
      <div class="col-6 col-md-4 col-lg-3">
        <div class="pdf-card">
          <img class="pdf-img" src="img/tajin.png" alt="Tajín">
          <div class="pdf-price" data-key="tajin"></div>
        </div>
      </div>
    </div>
    <div class="text-center mt-3" style="font-size:.9rem;color:#6b5848">Contacto directo: 50138102</div>
  </div>
</div>
<!-- ========= FIN PLANTILLA PDF ========= -->


<!-- Modal visor imagen -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 id="modalTitle" class="modal-title">Producto</h5>
        <div class="ms-auto d-flex gap-2">
          <a id="downloadImg" class="btn btn-outline-secondary btn-sm" href="#" download><i class="bi bi-download"></i> Descargar</a>
          <button id="prevBtn" type="button" class="btn btn-outline-primary btn-sm" aria-label="Anterior"><i class="bi bi-chevron-left"></i></button>
          <button id="nextBtn" type="button" class="btn btn-outline-primary btn-sm" aria-label="Siguiente"><i class="bi bi-chevron-right"></i></button>
          <button type="button" class="btn-close ms-2" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
      </div>
      <div class="modal-body bg-light"><img id="modalImg" class="modal-img" src="" alt="Producto"></div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  /* ======= PRECIOS: usando "Precio unidad a TIENDA (Q)" ======= */
  const PRICE_DATA = {
    jamaica: [
      { uom:'227 g', unit:19.50, public:19.50 },
      { uom:'454 g', unit:36.00, public:36.00 },
    ],
    bicarbonato: [
      { uom:'227 g', unit:6.50, public:6.50 },
      { uom:'454 g', unit:9.00, public:9.00 },
      { uom:'50 g',  unit:2.70, public:2.70 },
    ],
    miga: [
      { uom:'227 g', unit:6.00, public:6.00 },
      { uom:'454 g', unit:9.00, public:9.00 },
    ],
    tajin: [
      { uom:'227 g', unit:20.50, public:20.50 },
      { uom:'454 g', unit:35.00, public:35.00 },
      { uom:'50 g',  unit:6.80, public:6.80 },
    ],
  };

  const fmtQ = n => 'Q ' + new Intl.NumberFormat('es-GT',{minimumFractionDigits:2,maximumFractionDigits:2}).format(n);

  const pricePill = (uom, price) => `
    <div class="price-pill">
      <div class="uom">${uom}</div>
      <div class="amount"><i class="bi bi-cash-coin"></i> ${fmtQ(price).replace('Q ','')}</div>
    </div>`;

  const wholesalePill = (it) => {
    const box50  = it.unit * 50 * 0.95; // -5%
    const box100 = it.unit * 100 * 0.94; // -6%
    return `<div class="wh-pill">
      <div class="uom">${it.uom}</div>
      <div class="wh-row"><span class="wh-lab">P. unidad</span><span class="wh-val">${fmtQ(it.unit).replace('Q ','')}</span></div>
      <div class="wh-row"><span class="wh-lab">Caja 50</span><span class="wh-val">${fmtQ(box50).replace('Q ','')}</span></div>
      <div class="wh-row"><span class="wh-lab">Caja 100</span><span class="wh-val">${fmtQ(box100).replace('Q ','')}</span></div>
    </div>`;
  };

  window.addEventListener('DOMContentLoaded', () => {
    // Fecha
    const updated = document.getElementById('updatedAt');
    if (updated) updated.textContent = 'Precios actualizados: ' + new Date().toLocaleDateString('es-GT');

    // Rellenar precios (público = tienda) y mayorista
    document.querySelectorAll('#productGrid .product').forEach(prod=>{
      const key   = prod.dataset.key;
      const list  = prod.querySelector('.price-list');
      const whDiv = prod.querySelector('.wh-container');
      if(!PRICE_DATA[key]) return;

      list.innerHTML  = PRICE_DATA[key].map(p => pricePill(p.uom, p.public)).join('');
      whDiv.innerHTML = `<div class="wh-grid">${PRICE_DATA[key].map(wh => wholesalePill(wh)).join('')}</div>`;
    });

    // PDF (usa público = tienda)
    document.querySelectorAll('#catalogo_pdf .pdf-price').forEach(box=>{
      const key = box.dataset.key;
      if(!PRICE_DATA[key]) return;
      box.innerHTML = PRICE_DATA[key].map(p =>
        `<span class="pdf-pill">${p.uom} <span class="q">• ${fmtQ(p.public).replace('Q ','')}</span></span>`
      ).join('');
    });

    // Toggle mayorista (abrir/cerrar y acordeón)
    const buttons = document.querySelectorAll('.btn-wholesale');
    buttons.forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        e.preventDefault();
        const targetSel = btn.getAttribute('data-target');
        const target    = document.querySelector(targetSel);
        const isOpen    = target.classList.contains('open');

        document.querySelectorAll('.wh-container.open').forEach(box=>{
          box.classList.remove('open');
          const b = document.querySelector(`.btn-wholesale[data-target="#${box.id}"]`);
          if(b){ b.setAttribute('aria-expanded','false'); b.innerHTML = '<i class="bi bi-bag-check"></i> Precio mayorista'; }
        });

        if(!isOpen){
          target.classList.add('open');
          btn.setAttribute('aria-expanded','true');
          btn.innerHTML = '<i class="bi bi-x-circle"></i> Ocultar mayorista';
        } else {
          btn.setAttribute('aria-expanded','false');
          btn.innerHTML = '<i class="bi bi-bag-check"></i> Precio mayorista';
        }
      });
    });

    // Búsqueda y chips
    const strip = (s='')=>{ try{ return s.normalize('NFD').replace(/[\u0300-\u036f]/g,''); }
      catch{ return s.replace(/[áàäâ]/gi,'a').replace(/[éèëê]/gi,'e').replace(/[íìïî]/gi,'i')
                    .replace(/[óòöô]/gi,'o').replace(/[úùüû]/gi,'u').replace(/ñ/gi,'n'); } };
    const slug = (s='')=> strip(s).toLowerCase().trim();

    const input  = document.getElementById('searchInput');
    const cardsC = Array.from(document.querySelectorAll('#productGrid .product'));
    const chips  = document.querySelectorAll('.chip');
    let activeFilter = 'all';

    cardsC.forEach(c=>{ c.dataset.search = slug([c.dataset.name, c.dataset.tags, c.dataset.category].join(' ')); });

    function applyFilters(){
      const q = slug(input.value);
      cardsC.forEach(c=>{
        const okText = !q || c.dataset.search.includes(q);
        const okCat  = (activeFilter==='all') || (c.dataset.category===activeFilter);
        c.classList.toggle('d-none', !(okText && okCat));
      });
    }
    input.addEventListener('input', applyFilters);
    chips.forEach(ch=>{
      ch.addEventListener('click', ()=>{
        chips.forEach(x=>x.classList.remove('active'));
        ch.addEventListener('blur', ()=>{}, {once:true});
        ch.classList.add('active');
        activeFilter = ch.dataset.filter;
        input.value = '';
        applyFilters();
      });
    });
    applyFilters();

    // Visor de imagen
    const productCards = Array.from(document.querySelectorAll('#productGrid .product .product-card'));
    const modalEl   = document.getElementById('imageModal');
    const modal     = new bootstrap.Modal(modalEl);
    const modalImg  = document.getElementById('modalImg');
    const modalTit  = document.getElementById('modalTitle');
    const downloadA = document.getElementById('downloadImg');
    const prevBtn   = document.getElementById('prevBtn');
    const nextBtn   = document.getElementById('nextBtn');
    let currentIndex = 0;

    function showIndex(idx){
      if(idx<0) idx = productCards.length-1;
      if(idx>=productCards.length) idx = 0;
      currentIndex = idx;
      const card = productCards[idx];
      const img  = card.querySelector('.img-wrap img');
      const name = card.closest('.product').dataset.name || img.alt || 'Producto';
      modalImg.src = img.src; modalImg.alt = name; modalTit.textContent = name; downloadA.href = img.src;
    }
    productCards.forEach((card, idx)=>{
      card.addEventListener('click', (ev)=>{
        if(ev.target.closest('a, button')) return;
        showIndex(idx); modal.show();
      });
    });
    if (prevBtn) prevBtn.addEventListener('click', ()=> showIndex(currentIndex-1));
    if (nextBtn) nextBtn.addEventListener('click', ()=> showIndex(currentIndex+1));

    // Imprimir / Guardar como PDF
    document.getElementById('btnPrint').addEventListener('click', ()=> window.print());
  });
</script>
</body>
</html>
